<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Results Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .test-card h3 {
            margin-top: 0;
            color: #495057;
        }
        .test-card p {
            color: #6c757d;
            margin-bottom: 15px;
        }
        .test-link {
            display: inline-block;
            background: #007bff;
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 4px;
            margin: 5px 5px 5px 0;
            font-size: 14px;
        }
        .test-link:hover {
            background: #0056b3;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-ready { background-color: #28a745; }
        .status-pending { background-color: #ffc107; }
        .status-error { background-color: #dc3545; }
        .header {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 30px;
        }
        .quick-test {
            background: #28a745;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        .quick-test:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Universal DataGrid Test Dashboard</h1>
        <p>Comprehensive testing suite for the Universal DataGrid system</p>
        <button class="quick-test" onclick="runQuickTest()">üöÄ Run Quick Test</button>
        <button class="quick-test" onclick="openAllTests()">üìä Open All Tests</button>
    </div>

    <div class="dashboard">
        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Universal DataGrid Demo</h3>
            <p>Basic demonstration of Universal DataGrid functionality with sample data</p>
            <a href="DG-Universal-Demo.html" target="_blank" class="test-link">Open Demo</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Automated Test Suite</h3>
            <p>Comprehensive automated testing of all DataGrid components and features</p>
            <a href="DG-Test-Suite.html" target="_blank" class="test-link">Open Test Suite</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>JobSearch Data Validation</h3>
            <p>Integration testing with real JobSearch JSON data and schema validation</p>
            <a href="JobSearch-Validation-Test.html" target="_blank" class="test-link">Open Validation</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Feature Comparison</h3>
            <p>Side-by-side comparison of Universal DataGrid vs existing FormMock system</p>
            <a href="DG-vs-FormMock-Comparison.html" target="_blank" class="test-link">Open Comparison</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Complete Test Runner</h3>
            <p>Comprehensive test runner with detailed metrics and automated execution</p>
            <a href="Universal-DataGrid-Test-Runner.html" target="_blank" class="test-link">Open Test Runner</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>JobSearch Universal Demo</h3>
            <p>Real implementation using Universal DataGrid with JobSearch data</p>
            <a href="jobsearch-universal.html" target="_blank" class="test-link">Open Implementation</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Migration Guide</h3>
            <p>Documentation for migrating from FormMock to Universal DataGrid</p>
            <a href="DG-MIGRATION-GUIDE.md" target="_blank" class="test-link">View Guide</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Quick Fix Test</h3>
            <p>Rapid validation test for the fixed DataGrid loading issues</p>
            <a href="Quick-Fix-Test.html" target="_blank" class="test-link">Open Quick Test</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Loading Diagnostic</h3>
            <p>Step-by-step diagnostic tool for DataGrid loading issues</p>
            <a href="DataGrid-Loading-Diagnostic.html" target="_blank" class="test-link">Open Diagnostic</a>
        </div>

        <div class="test-card">
            <h3><span class="status-indicator status-ready"></span>Legacy FormMock System</h3>
            <p>Current FormMock implementation for comparison purposes</p>
            <a href="formmock.html" target="_blank" class="test-link">Open FormMock</a>
            <a href="position-management.html" target="_blank" class="test-link">Position Management</a>
        </div>
    </div>

    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin: 20px 0;">
        <h3>Test Execution Summary</h3>
        <div id="testResults">
            <p>Click "Run Quick Test" to execute a rapid validation of all core functionality.</p>
            <p>Or open individual test pages to run specific test suites.</p>
        </div>
    </div>

    <script>
        function runQuickTest() {
            const testResults = document.getElementById('testResults');
            testResults.innerHTML = '<p>üîÑ Running quick validation test...</p>';
            
            // Quick validation of core components
            let results = [];
            
            // Check if we can load the components
            try {
                // Test 1: Check if we're on the right server
                if (window.location.hostname === 'localhost' && window.location.port === '8080') {
                    results.push('‚úÖ Test server running correctly');
                } else {
                    results.push('‚ùå Test server not accessible');
                }
                
                // Test 2: Check if main demo page exists
                fetch('DG-Universal-Demo.html')
                    .then(response => {
                        if (response.ok) {
                            results.push('‚úÖ Universal DataGrid demo accessible');
                        } else {
                            results.push('‚ùå Demo page not accessible');
                        }
                        updateResults();
                    })
                    .catch(error => {
                        results.push('‚ùå Demo page fetch failed');
                        updateResults();
                    });
                    
                // Test 3: Check if test data exists
                fetch('jobsearch.json')
                    .then(response => {
                        if (response.ok) {
                            results.push('‚úÖ JobSearch data file accessible');
                            return response.json();
                        } else {
                            results.push('‚ùå JobSearch data file not accessible');
                            return null;
                        }
                    })
                    .then(data => {
                        if (data && data.jobsearch) {
                            results.push('‚úÖ JobSearch data structure valid');
                        } else if (data) {
                            results.push('‚ùå JobSearch data structure invalid');
                        }
                        updateResults();
                    })
                    .catch(error => {
                        results.push('‚ùå JobSearch data fetch failed');
                        updateResults();
                    });
                    
                // Test 4: Check JavaScript files
                const jsFiles = ['DataGridNamespace.js', 'DG.js', 'DG-Operations.js', 'DGP.js'];
                jsFiles.forEach(file => {
                    fetch(file)
                        .then(response => {
                            if (response.ok) {
                                results.push(`‚úÖ ${file} accessible`);
                            } else {
                                results.push(`‚ùå ${file} not accessible`);
                            }
                            updateResults();
                        })
                        .catch(error => {
                            results.push(`‚ùå ${file} fetch failed`);
                            updateResults();
                        });
                });
                
                function updateResults() {
                    const successCount = results.filter(r => r.startsWith('‚úÖ')).length;
                    const errorCount = results.filter(r => r.startsWith('‚ùå')).length;
                    
                    let html = '<h4>Quick Test Results:</h4><ul>';
                    results.forEach(result => {
                        html += `<li>${result}</li>`;
                    });
                    html += '</ul>';
                    
                    if (results.length >= 8) { // All tests completed
                        html += `<p><strong>Summary:</strong> ${successCount} passed, ${errorCount} failed</p>`;
                        if (errorCount === 0) {
                            html += '<p style="color: green; font-weight: bold;">üéâ All systems ready! Proceed with comprehensive testing.</p>';
                        } else {
                            html += '<p style="color: orange; font-weight: bold;">‚ö†Ô∏è Some issues detected. Check individual test pages for details.</p>';
                        }
                    }
                    
                    testResults.innerHTML = html;
                }
                
            } catch (error) {
                testResults.innerHTML = `<p style="color: red;">‚ùå Quick test failed: ${error.message}</p>`;
            }
        }
        
        function openAllTests() {
            const testPages = [
                'DG-Universal-Demo.html',
                'DG-Test-Suite.html', 
                'JobSearch-Validation-Test.html',
                'DG-vs-FormMock-Comparison.html',
                'Universal-DataGrid-Test-Runner.html'
            ];
            
            testPages.forEach((page, index) => {
                setTimeout(() => {
                    window.open(page, `test_${index}`);
                }, index * 500); // Stagger the window opening
            });
            
            document.getElementById('testResults').innerHTML = 
                '<p>üöÄ Opening all test pages in new windows...</p>' +
                '<p>Check each window to run the respective tests.</p>';
        }
    </script>
</body>
</html>